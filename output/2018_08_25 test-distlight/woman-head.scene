Integrator "$integrator_type" "integer maxdepth" [ $integrator_maxdepth ] 
#Transform [ $transform_matrix ]
Translate 0 0 29
Rotate 0 0 1 0
Sampler "$sampler_type" "integer pixelsamples" [ $sampler_pixelsamples ]

PixelFilter "triangle" "float xwidth" [ $pixelfilter_xwidth ] "float ywidth" [ $pixelfilter_ywidth ] 
Film "image"
    "integer xresolution" [ $image_xresolution ] "integer yresolution" [ $image_yresolution ]
    "string filename" "$image_output_basename.$model_hair_thickness$model_hair_percentage_$KEY_FRAME$image_output_extension"
    "float scale" 4

Camera "perspective" "float fov" [ $camera_fov ] 

WorldBegin
	MakeNamedMaterial "black_hair" "string type" [ "hair" ] "float eumelanin" [ 8 ]
	MakeNamedMaterial "red_hair" "string type" [ "hair" ] "float eumelanin" [ 3 ]
	MakeNamedMaterial "brown_hair" "string type" [ "hair" ] "float eumelanin" [ 1.3 ] "float beta_m" .25 "float alpha" 2
	MakeNamedMaterial "blonde_hair" "string type" [ "hair" ] "float	eumelanin" [ .3 ]

    # Blond hair    
    # Material "hair" "float eumelanin" .3

    # Brown hair
    Material "hair" "float eumelanin" [ 1.3 ] "float beta_m" .25 "float alpha" 2

    # Red hair
    # Material "hair" "float eumelanin" [ 3 ]

    # Black hair
    # Material "hair" "float eumelanin" [ 8 ]

    TransformBegin
        Rotate $view_rotation 0 1 0
        Rotate 180 0 1 0
        Rotate -90 0 1 0

        TransformBegin
            Scale 0.10747 0.10747 0.10747
            Rotate 90 0 1 0

            TransformBegin
            	NamedMaterial "$material_name" 
	            Include "$model_hair_filename$model_hair_thickness$model_hair_percentage.pbrt"
            TransformEnd

            TransformBegin
                Rotate -90 1 0 0
                Include "$model_head_filename"
            TransformEnd
        TransformEnd

	    LightSource "distant" "point from" [ $distlight_x $distlight_y $distlight_z ] "point to" [ 0.000000 0.000000 0.000000 ] "rgb L" [ $distlight_power $distlight_power $distlight_power ] 
	    #TransformBegin
	    #        Rotate -55 1 0 0
	    #        Rotate 90 0 0 1
		#    LightSource "infinite" "string mapname" [ "$lightsource_mapname" ] 
	    #TransformEnd
    TransformEnd
WorldEnd
